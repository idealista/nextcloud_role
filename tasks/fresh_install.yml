---
- name: NEXTCLOUD | Ensure deploy paths
  file:
    dest: "{{ item }}"
    owner: "{{ nextcloud_user }}"
    group: "{{ nextcloud_group }}"
    state: directory
  with_items:
    - "{{ nextcloud_deploy_path }}"
  tags:
    - nextcloud_install

- name: NEXTCLOUD | Extract downloaded package
  unarchive:
    src: "{{ nextcloud_package_path }}"
    dest: "{{ nextcloud_deploy_path }}"
    owner: "{{ nextcloud_user }}"
    group: "{{ nextcloud_group }}"
    remote_src: True
  tags:
    - nextcloud_install
